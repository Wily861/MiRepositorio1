# 📁 database-scripts

Este repositorio contiene una **colección organizada de scripts SQL** desarrollados a lo largo de mi trayectoria como profesional en el mundo de bases de datos. Están orientados a cubrir tareas comunes de administración, mantenimiento, control de acceso y automatización de operaciones rutinarias sobre entornos Oracle y otros motores SQL.

A lo largo de mi experiencia he trabajado en soluciones para clientes de alto impacto como:

- 🏬 **Alkosto**
- 🏥 **Cardio Infantil**, **EMI**, **HPTU (Hospital Pablo Tobón Uribe)**
- 🏛️ **FiduPopular (Banco Popular)**
- 🏢 **Metro de Medellín**, **Ceipa**, **Flamingo**
- 🛍️ **Novaventa**, **La Riviera**
- 🛡️ **Protección**
- 📦 **Zona Franca**

Estos scripts han sido de uso frecuente en actividades reales de soporte, implementación y auditoría en esos entornos corporativos.

---

## 📂 Contenido del Repositorio

- 🔐 Scripts de gestión de permisos (`GRANT`, `REVOKE`)
- 🗃️ Consultas administrativas (uso de catálogos, metadatos)
- 🛠️ Mantenimiento de esquemas y usuarios
- 🧩 Scripts compatibles con bases de datos Oracle (ajustables a otros motores)

---

## 📝 Ejemplo de Script

### 🎯 Otorgar permisos al usuario `SERV_APP` sobre objetos del esquema `PRDN`

```sql
/* 
------------------------------------------------------------------------------------------
-- Script: grant_permissions_to_serv_app.sql
-- Autor: Wily Duvan Villamil Rey
-- Fecha: 10/06/2025
--
-- Descripción:
-- Genera dinámicamente sentencias GRANT para otorgar permisos al usuario "SERV_APP" 
-- sobre objetos del esquema PRDN.
-- - SELECT sobre todas las tablas y vistas.
-- - EXECUTE sobre todos los procedimientos almacenados.
------------------------------------------------------------------------------------------
*/

-- Permisos SELECT sobre tablas y vistas
SELECT 'GRANT SELECT ON ' || owner || '.' || object_name || ' TO "SERV_APP";' AS grant_statement
  FROM dba_objects
 WHERE owner = 'PRDN'
   AND object_type IN ('TABLE', 'VIEW')

UNION

-- Permisos EXECUTE sobre procedimientos almacenados
SELECT 'GRANT EXECUTE ON ' || owner || '.' || object_name || ' TO "SERV_APP";' AS grant_statement
  FROM dba_objects
 WHERE owner = 'PRDN'
   AND object_type = 'PROCEDURE';

